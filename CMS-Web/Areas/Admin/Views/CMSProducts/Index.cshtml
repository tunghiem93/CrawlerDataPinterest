@model CMS_DTO.CMSProduct.CMS_ProductsModels
@{
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
@{
    ViewBag.Title = "Sản phẩm - Danh sách";
}
<style>
    body{
        overflow-x:hidden;
    }

    .info {
        /*margin-left:20px;*/
    }
    .img-responsive{
        height:236px;
    }
</style>
<div role="main">
    <div class="se-pre-con" style="display: none;"></div>
    <div class="_gridview">
        <div class="page-title">
            <!-- BEGIN PAGE BAR -->
            @Html.Partial("_breadcrumb", new Dictionary<string, string> { { "A", "Trang chủ" }, { "B", "Sản phẩm - Danh sách" } })
            <!-- END PAGE BAR -->
        </div>
        <div class="page-main">
            @using (Html.BeginForm("Search", "CMSProducts", FormMethod.Get, new { @class = "form-horizontal search-form", @id = "form-search" }))
            {
                <fieldset>
                    <legend>Nhóm mục từ khóa quét</legend>
                </fieldset>
                <div class="form-group">
                    <label for="FromDate" class="col-md-1 col-sm-3 col-xs-12 control-label">Thời gian</label>
                    <div class="col-md-3 col-sm-4 col-xs-12 ">
                        <div class="input-prepend input-group" style="width:75%">
                            @Html.DropDownListFor(model => model.TypeTime,
                                new SelectList(Model.ListTime, "Value", "Text", Model.TypeTime), "",
                                new
                                {
                                    @class = "form-control select2_multiple",
                                    @id = "storeDdlView",
                                    @style = "width:100%;"
                                })
                            @Html.ValidationMessageFor(model => model.TypeTime, null, new { @class = "label" })
                        </div>
                    </div>
                    <label for="ToDate" class="col-md-1 col-sm-1 col-xs-12 control-label">Số lượng</label>
                    <div class="col-md-3 col-sm-4 col-xs-12 ">
                        <div class="input-prepend input-group" style="width:75%">
                            @Html.DropDownListFor(model => model.TypeQuantity,
                                new SelectList(Model.ListQuantity, "Value", "Text", Model.TypeQuantity), "",
                                new
                                {
                                    @class = "form-control select2_multiple",
                                    @id = "storeDdlViewQuantity",
                                    @style = "width:100%;"
                                })
                            @Html.ValidationMessageFor(model => model.TypeQuantity, null, new { @class = "label" })
                        </div>
                        @Html.ValidationMessageFor(model => model.Board, null, new { @class = "label" })
                    </div>
                    <div class="form-group">
                        <div class="col-md-2 col-sm-2 col-xs-12">
                            <button class="btn btn-primary"  id="form-search"><i class="fa fa-search"></i>&nbsp;Load Data</button>
                        </div>
                    </div>
                </div>
            }
            @*<div class="gridview" style="height:100%;"></div>*@
        </div>
    </div>
    <div class="detail-view" style="height:100%;display:inline-block">
        @Html.Partial("_ListItem",Model.Crawler)
        <!-- detail partial view -->
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        //  LoadGrid();

        $("#storeDdlView").select2({
            placeholder: '@Html.Raw("Vui lòng chọn")',
        });

        $("#storeDdlViewQuantity").select2({
                placeholder: '@Html.Raw("Vui lòng chọn")',
        });
    })

    $("#form-search").on("click").submit(function (e) {
        $.ajax({
            beforeSend: function () {
                $('.se-pre-con').show();
            },
            url: $(this).attr('action'),
            type: "post",
            dataType: 'html',
            data: new FormData(this),
            processData: false,
            contentType: false,
            success: function (data) {
                $('.detail-view').html(data);
            },
            complete: function () {
                $('.se-pre-con').hide();
            },
            error: function (jqXHR, textStatus, errorThrown) {
              //  $(".detail-view").html(jqXHR.responseText);
            }
        });
        e.preventDefault();
    });

</script>